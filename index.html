<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Desert Camp Jaisalmer ‚Äì Luxury Escape</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  <!-- The main CSS is kept in the head to ensure the page is styled as it renders -->
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Roboto', 'Georgia', serif;
      background-color: #fcf8f3;
      color: #3a2f27;
    }
    .email-wrapper {
      max-width: 700px;
      margin: auto;
      background: #fffdf8;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 10px 35px rgba(0,0,0,0.1);
    }
    .header {
      /* PERFORMANCE: Replaced heavy external image with a fast-loading placeholder. */
      /* For production, use a highly compressed and optimized image hosted on a CDN. */
      background: url('https://placehold.co/700x280/a8651c/ffffff?text=Desert+Camp+Resort') center/cover no-repeat;
      height: 280px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: #fff;
      text-align: center;
      text-shadow: 2px 2px 6px rgba(0,0,0,0.6);
      padding: 30px;
    }
    .header h1 {
      font-family: 'Playfair Display', serif;
      font-size: 38px;
      margin: 0;
      font-weight: 700;
    }
    .header p {
      font-size: 18px;
      font-style: italic;
      margin-top: 10px;
    }
    .section {
      padding: 40px 30px;
    }
    .section h2 {
      font-family: 'Playfair Display', serif;
      color: #a8651c;
      font-size: 28px;
      margin-bottom: 12px;
      text-align: center;
    }
    .section p {
      font-size: 16px;
      line-height: 1.6;
      text-align: center;
    }
    .features {
      list-style: none;
      padding: 0;
      margin: 30px auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      max-width: 600px;
    }
    .features li {
      margin: 0;
      padding-left: 25px;
      position: relative;
      font-size: 16px;
    }
    .features li::before {
      content: "‚úî";
      position: absolute;
      left: 0;
      color: #d5a253;
      font-weight: bold;
    }

    /* --- Package Styles --- */
    .packages-container {
        margin-top: 40px;
        padding-bottom: 40vh;
        position: relative;
    }
    .package-card {
        padding: 25px 30px;
        border-radius: 15px;
        box-shadow: 0 8px 30px rgba(0,0,0,0.12);
        margin-bottom: 20px;
        position: -webkit-sticky;
        position: sticky;
        color: #fff;
        transition: all 0.3s ease-in-out;
    }
    .package-card h3 {
        font-family: 'Playfair Display', serif;
        font-size: 24px;
        margin: 0 0 20px 0;
        padding-bottom: 15px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.4);
        font-weight: 700;
    }
    .package-details {
        display: flex;
        justify-content: space-between;
        gap: 25px;
        flex-wrap: wrap;
    }
    .tent-type {
        flex: 1;
        min-width: 200px;
        background: rgba(0,0,0,0.1);
        padding: 15px;
        border-radius: 10px;
    }
    .tent-type h4 {
        font-size: 19px;
        margin: 0 0 8px 0;
        font-weight: 500;
    }
    .tent-type .price {
        font-size: 32px;
        font-weight: 700;
        margin: 0;
        font-family: 'Playfair Display', serif;
    }
    .tent-type .price-note {
        font-size: 14px;
        opacity: 0.8;
    }
    .tent-type p {
        color: #fff;
        line-height: 1.5;
        font-size: 16px;
        text-align: left;
    }
    .child-note {
        text-align: center;
        margin-top: 25px;
        padding-top: 15px;
        border-top: 1px solid rgba(255, 255, 255, 0.4);
        font-style: italic;
        color: #fff;
        font-size: 15px;
    }
    .card-1 { background: linear-gradient(45deg, #a8651c, #c78948); }
    .card-2 { background: linear-gradient(45deg, #b57c3f, #d19a67); }
    .card-3 { background: linear-gradient(45deg, #c19262, #dea981); }
    .card-4 { background: linear-gradient(45deg, #a8651c, #c78948); }
    .card-5 { background: linear-gradient(45deg, #d5a253, #eac17d); }
    .card-6 { background: linear-gradient(45deg, #b57c3f, #d19a67); }
    .card-7 { background: linear-gradient(45deg, #a8651c, #c78948); }
    
    /* --- Gemini AI Planner Styles --- */
    #planner-section {
        background-color: #f9ede1;
        margin: 0 30px;
        border-radius: 15px;
        padding: 40px;
    }
    .planner-form {
        margin-top: 20px;
    }
    .form-group {
        margin-bottom: 20px;
    }
    .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
        color: #a8651c;
    }
    .form-group input[type="number"] {
        width: 100%;
        padding: 10px;
        border-radius: 8px;
        border: 1px solid #ddd;
        font-family: 'Roboto', sans-serif;
        font-size: 16px;
    }
    .interests-group {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
    }
    .interests-group label {
        display: inline-block;
        background: #fff;
        border: 1px solid #ddd;
        padding: 8px 15px;
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.2s ease;
    }
    .interests-group input[type="checkbox"] {
        display: none;
    }
    .interests-group input[type="checkbox"]:checked + label {
        background-color: #a8651c;
        color: #fff;
        border-color: #a8651c;
    }
    #generate-btn {
      background: #a8651c;
      color: #fff;
      text-decoration: none;
      padding: 14px 30px;
      border-radius: 30px;
      font-size: 18px;
      font-weight: bold;
      display: block;
      width: 100%;
      border: none;
      cursor: pointer;
      margin-top: 25px;
      box-shadow: 0 6px 16px rgba(168,101,28,0.3);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    #generate-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(168,101,28,0.4);
    }
    #generate-btn:disabled {
        background-color: #c78948;
        cursor: not-allowed;
    }
    #loader {
        text-align: center;
        margin-top: 20px;
    }
    .spinner {
        border: 4px solid #f3f3f3;
        border-top: 4px solid #a8651c;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
        margin: auto;
    }
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    #itinerary-result {
        margin-top: 30px;
        background: #fffdf8;
        padding: 20px;
        border-radius: 10px;
        border: 1px solid #f9ede1;
    }
    #itinerary-result h3 { color: #a8651c; }
    #itinerary-result h4 { color: #c78948; }
    #itinerary-result ul { padding-left: 20px; }
    #itinerary-result li { margin-bottom: 8px; }

    /* --- CTA & Footer --- */
    .cta {
      text-align: center;
      margin: 40px 0 30px;
    }
    .cta a {
      background: #a8651c;
      color: #fff;
      text-decoration: none;
      padding: 16px 36px;
      border-radius: 30px;
      font-size: 18px;
      font-weight: bold;
      display: inline-block;
      box-shadow: 0 6px 16px rgba(168,101,28,0.3);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .cta a:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(168,101,28,0.4);
    }
    .footer {
      background: #fdf7f0;
      color: #7e7e7e;
      text-align: center;
      font-size: 13px;
      padding: 20px 30px;
    }
  </style>
</head>
<body>
  <div class="email-wrapper">
    <div class="header" role="img" aria-label="A scenic view of the desert at sunset">
      <h1>üèúÔ∏è Desert Overnight Camp & Resort</h1>
      <p>Sam Sand Dunes, Jaisalmer</p>
    </div>

    <div class="section">
      <h2>Escape to a Royal Desert Fantasy</h2>
      <p>Indulge in a truly regal desert stay. Enjoy handpicked Swiss & Royal tents, mesmerizing cultural shows, desert adventures, and warm Rajasthani hospitality ‚Äî all crafted for an unforgettable experience.</p>

      <ul class="features">
        <li>Deluxe Swiss & Royal Maharaja Tents</li>
        <li>Rajasthani Cultural Show + Bonfire</li>
        <li>Night DJ Party under the Stars</li>
        <li>Sunset & Sunrise Views + Camel Safari</li>
        <li>Buffet Dinner + Breakfast</li>
        <li>Ample Free Parking</li>
      </ul>
    </div>
    
    <div class="section">
        <h2>Seasonal Packages</h2>
        <p>Explore our rates for the upcoming season. All packages are for double occupancy and include our full range of signature amenities. The first package is shown below; scroll down to reveal more seasonal offers.</p>

        <div class="packages-container">
            <!-- Package Cards -->
            <div class="package-card card-1" style="top: 60px; z-index: 1;">
                <h3>1st August ‚Äì 15th October</h3>
                <div class="package-details">
                    <div class="tent-type"><h4>Deluxe Swiss Tent</h4><p class="price">‚Çπ2,500</p><p class="price-note">Extra Person: ‚Çπ1,500</p></div>
                    <div class="tent-type"><h4>Royal Maharaja Suite</h4><p class="price">‚Çπ3,500</p><p class="price-note">Extra Person: ‚Çπ1,500</p></div>
                </div><p class="child-note">Child up to 7 years complimentary.</p>
            </div>
            <div class="package-card card-2" style="top: 80px; z-index: 2;">
                <h3>16th October ‚Äì 30th October</h3>
                <div class="package-details">
                    <div class="tent-type"><h4>Deluxe Swiss Tent</h4><p class="price">‚Çπ6,000</p><p class="price-note">Extra Person: ‚Çπ1,500</p></div>
                    <div class="tent-type"><h4>Royal Maharaja Suite</h4><p class="price">‚Çπ7,000</p><p class="price-note">Extra Person: ‚Çπ1,500</p></div>
                </div>
            </div>
            <div class="package-card card-3" style="top: 100px; z-index: 3;">
                <h3>1st November ‚Äì 20th December</h3>
                <div class="package-details">
                    <div class="tent-type"><h4>Deluxe Swiss Tent</h4><p class="price">‚Çπ3,000</p><p class="price-note">Extra Person: ‚Çπ1,500</p></div>
                    <div class="tent-type"><h4>Royal Maharaja Suite</h4><p class="price">‚Çπ4,000</p><p class="price-note">Extra Person: ‚Çπ1,500</p></div>
                </div>
            </div>
            <div class="package-card card-4" style="top: 120px; z-index: 4;">
                <h3>21st December ‚Äì 30th December</h3>
                <div class="package-details">
                    <div class="tent-type"><h4>Deluxe Swiss Tent</h4><p class="price">‚Çπ7,000</p><p class="price-note">Extra Person: ‚Çπ1,500</p></div>
                    <div class="tent-type"><h4>Royal Maharaja Suite</h4><p class="price">‚Çπ8,000</p><p class="price-note">Extra Person: ‚Çπ1,500</p></div>
                </div>
            </div>
            <div class="package-card card-5" style="top: 140px; z-index: 5;">
                <h3>31st December (New Year's Eve)</h3>
                <div class="package-details">
                    <div class="tent-type"><h4>Deluxe Swiss Tent</h4><p class="price">‚Çπ12,000</p><p class="price-note">Extra Person: ‚Çπ2,500</p></div>
                    <div class="tent-type"><h4>Royal Maharaja Suite</h4><p class="price">‚Çπ15,000</p><p class="price-note">Extra Person: ‚Çπ2,500</p></div>
                </div>
            </div>
            <div class="package-card card-6" style="top: 160px; z-index: 6;">
                <h3>1st January ‚Äì 15th January</h3>
                <div class="package-details">
                    <div class="tent-type"><h4>Deluxe Swiss Tent</h4><p class="price">‚Çπ4,500</p><p class="price-note">Extra Person: ‚Çπ1,500</p></div>
                    <div class="tent-type"><h4>Royal Maharaja Suite</h4><p class="price">‚Çπ5,500</p><p class="price-note">Extra Person: ‚Çπ1,500</p></div>
                </div>
            </div>
            <div class="package-card card-7" style="top: 180px; z-index: 7;">
                <h3>16th January ‚Äì 31st March</h3>
                <div class="package-details">
                    <div class="tent-type"><h4>Deluxe Swiss Tent</h4><p class="price">‚Çπ2,500</p><p class="price-note">Extra Person: ‚Çπ1,500</p></div>
                    <div class="tent-type"><h4>Royal Maharaja Suite</h4><p class="price">‚Çπ3,500</p><p class="price-note">Extra Person: ‚Çπ1,500</p></div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Gemini Itinerary Planner Section -->
    <div class="section" id="planner-section">
        <h2>‚ú® Plan Your Perfect Desert Escape</h2>
        <p>Tell us your travel style, and our AI-powered assistant will craft a personalized itinerary just for you!</p>
    
        <div class="planner-form">
            <div class="form-group">
                <label for="days">How many days will you stay?</label>
                <input type="number" id="days" name="days" value="2" min="1" max="7">
            </div>
            <div class="form-group">
                <label>What are your interests?</label>
                <div class="interests-group">
                    <input type="checkbox" id="interest-adventure" value="Adventure"><label for="interest-adventure">Adventure</label>
                    <input type="checkbox" id="interest-culture" value="Culture" checked><label for="interest-culture">Culture</label>
                    <input type="checkbox" id="interest-relaxation" value="Relaxation"><label for="interest-relaxation">Relaxation</label>
                    <input type="checkbox" id="interest-photography" value="Photography" checked><label for="interest-photography">Photography</label>
                    <input type="checkbox" id="interest-foodie" value="Foodie"><label for="interest-foodie">Foodie</label>
                </div>
            </div>
        </div>
        <button id="generate-btn">Generate My Itinerary</button>
    
        <div id="loader" style="display: none;">
            <div class="spinner"></div>
            <p>Crafting your adventure...</p>
        </div>
        <div id="itinerary-result"></div>
    </div>
    
    <div class="section" style="padding-top: 0;">
        <div class="cta">
          <a href="tel:+917877075449">üìû Book Your Royal Stay: +91 78770 75449</a>
      </div>
    </div>

    <div class="footer">
      Desert Overnight Camp & Resort<br>
      Sam Sand Dunes, Jaisalmer ‚Ä¢ ¬© 2025 All Rights Reserved
    </div>
  </div>

  <!-- PERFORMANCE: Moved render-blocking scripts to the end of the body -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script>
    // --- Gemini API Integration ---
    const generateBtn = document.getElementById('generate-btn');
    const loader = document.getElementById('loader');
    const resultContainer = document.getElementById('itinerary-result');
    const daysInput = document.getElementById('days');
    const interestsCheckboxes = document.querySelectorAll('.interests-group input[type="checkbox"]');

    generateBtn.addEventListener('click', async () => {
        // 1. Get user inputs
        const numberOfDays = daysInput.value;
        const selectedInterests = Array.from(interestsCheckboxes)
            .filter(i => i.checked)
            .map(i => i.value)
            .join(', ');

        if (!selectedInterests) {
            resultContainer.innerHTML = `<p style="color: red; text-align: center;">Please select at least one interest.</p>`;
            return;
        }

        // 2. Set up UI for loading state
        generateBtn.disabled = true;
        generateBtn.textContent = 'Generating...';
        loader.style.display = 'block';
        resultContainer.innerHTML = '';

        // 3. Construct the prompt for the Gemini API
        const prompt = `
            You are an expert travel assistant for the "Desert Overnight Camp & Resort" in Sam Sand Dunes, Jaisalmer, Rajasthan.
            A potential guest wants a personalized itinerary.

            **Guest's Stay Duration:** ${numberOfDays} day(s)
            **Guest's Interests:** ${selectedInterests}

            Create a detailed, day-by-day itinerary that is exciting, enticing, and makes them want to book a stay. 
            
            **Instructions:**
            - The itinerary MUST heavily feature the activities offered by our camp: Camel Safari at sunset, Rajasthani Cultural Show, Bonfire, DJ Night, and our Buffet Dinner & Breakfast.
            - Weave in other relevant activities in or around Jaisalmer that align with the guest's interests. For example:
                - If they like 'Culture' or 'Photography', suggest visiting Jaisalmer Fort, Patwon Ki Haveli, or Gadisar Lake.
                - If they like 'Adventure', suggest dune bashing (Jeep Safari), parasailing, or quad biking near the camp.
                - If they like 'Foodie', recommend trying local Rajasthani specialties.
                - If they like 'Relaxation', emphasize the serene desert mornings, stargazing, and relaxing by the bonfire.
            - Start with a friendly and exciting title.
            - Use Markdown for formatting (e.g., ## for day headings, ### for activities, * for list items, ** for bold text).
            - Write in a warm, inviting, and slightly poetic tone that captures the magic of the desert.
        `;

        // 4. Call the Gemini API
        try {
            let chatHistory = [];
            chatHistory.push({ role: "user", parts: [{ text: prompt }] });
            const payload = { contents: chatHistory };
            const apiKey = ""; // API key will be automatically handled by the environment
            const apiUrl = \`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=\${apiKey}\`;
            
            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });

            if (!response.ok) {
                throw new Error(\`API request failed with status \${response.status}\`);
            }
            
            const result = await response.json();

            if (result.candidates && result.candidates.length > 0 &&
                result.candidates[0].content && result.candidates[0].content.parts &&
                result.candidates[0].content.parts.length > 0) {
                const text = result.candidates[0].content.parts[0].text;
                // Use marked.js to convert Markdown to HTML
                resultContainer.innerHTML = marked.parse(text);
            } else {
                throw new Error("Received an empty or invalid response from the API.");
            }

        } catch (error) {
            console.error("Error calling Gemini API:", error);
            resultContainer.innerHTML = \`<p style="color: red; text-align: center;">Sorry, we couldn't generate your itinerary at this moment. Please try again later.</p>\`;
        } finally {
            // 5. Reset UI from loading state
            loader.style.display = 'none';
            generateBtn.disabled = false;
            generateBtn.textContent = 'Generate My Itinerary';
        }
    });
  </script>
</body>
</html>
